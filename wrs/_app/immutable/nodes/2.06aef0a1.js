import{S as ae,i as oe,s as re,k as m,q as D,l as g,m as b,r as $,h as d,n as u,b as le,G as t,u as Q,H as ee,J as _e,a as N,c as G,K as Ee,g as Y,f as ke,d as te,L as ye,o as Te,y as ve,z as de,A as me,B as ge,v as je}from"../chunks/index.1e76eaed.js";function Ne(s){let e,l,a;return{c(){e=m("div"),l=D(s[0]),this.h()},l(r){e=g(r,"DIV",{class:!0,style:!0});var o=b(e);l=$(o,s[0]),o.forEach(d),this.h()},h(){u(e,"class","name svelte-1q3ac75"),u(e,"style",a=`background-image: linear-gradient(to right, ${s[1]}, ${s[2]})`)},m(r,o){le(r,e,o),t(e,l)},p(r,[o]){o&1&&Q(l,r[0]),o&6&&a!==(a=`background-image: linear-gradient(to right, ${r[1]}, ${r[2]})`)&&u(e,"style",a)},i:ee,o:ee,d(r){r&&d(e)}}}function Ge(s,e,l){let{name:a}=e,{from:r}=e,{to:o}=e;return s.$$set=i=>{"name"in i&&l(0,a=i.name),"from"in i&&l(1,r=i.from),"to"in i&&l(2,o=i.to)},[a,r,o]}class Me extends ae{constructor(e){super(),oe(this,e,Ge,Ne,re,{name:0,from:1,to:2})}}function Ae(s){let e,l,a,r;return{c(){e=m("div"),l=m("img"),this.h()},l(o){e=g(o,"DIV",{class:!0});var i=b(e);l=g(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(d),this.h()},h(){u(l,"class","flag_img svelte-1k25bsj"),_e(l.src,a=`https://flags.komali.dev/svg/${s[0]}.svg`)||u(l,"src",a),u(l,"alt",r=`flag_${s[0]}`),u(e,"class","flag svelte-1k25bsj")},m(o,i){le(o,e,i),t(e,l)},p(o,[i]){i&1&&!_e(l.src,a=`https://flags.komali.dev/svg/${o[0]}.svg`)&&u(l,"src",a),i&1&&r!==(r=`flag_${o[0]}`)&&u(l,"alt",r)},i:ee,o:ee,d(o){o&&d(e)}}}function De(s,e,l){let{code:a}=e;return s.$$set=r=>{"code"in r&&l(0,a=r.code)},[a]}class $e extends ae{constructor(e){super(),oe(this,e,De,Ae,re,{code:0})}}function be(s,e,l){const a=s.slice();return a[2]=e[l],a}function pe(s){let e,l,a,r,o,i,M,O=s[0][s[2]].counts.all+"",A,p,_,y=s[0][s[2]].counts["Any%"]+"",V,C,j,E=s[0][s[2]].counts["No Major Glitches"]+"",F,L,R,z=s[0][s[2]].counts["100%"]+"",q,K,S,w=s[0][s[2]].counts["No Major Glitches 100%"]+"",J,P,T;return a=new $e({props:{code:s[0][s[2]].location}}),o=new Me({props:{name:s[2],from:s[0][s[2]].colors,to:s[0][s[2]].colors[1]}}),{c(){e=m("tr"),l=m("td"),ve(a.$$.fragment),r=N(),ve(o.$$.fragment),i=N(),M=m("td"),A=D(O),p=N(),_=m("td"),V=D(y),C=N(),j=m("td"),F=D(E),L=N(),R=m("td"),q=D(z),K=N(),S=m("td"),J=D(w),P=N(),this.h()},l(n){e=g(n,"TR",{class:!0});var c=b(e);l=g(c,"TD",{class:!0});var H=b(l);de(a.$$.fragment,H),r=G(H),de(o.$$.fragment,H),H.forEach(d),i=G(c),M=g(c,"TD",{class:!0});var B=b(M);A=$(B,O),B.forEach(d),p=G(c),_=g(c,"TD",{class:!0});var X=b(_);V=$(X,y),X.forEach(d),C=G(c),j=g(c,"TD",{class:!0});var U=b(j);F=$(U,E),U.forEach(d),L=G(c),R=g(c,"TD",{class:!0});var f=b(R);q=$(f,z),f.forEach(d),K=G(c),S=g(c,"TD",{class:!0});var Z=b(S);J=$(Z,w),Z.forEach(d),P=G(c),c.forEach(d),this.h()},h(){u(l,"class","svelte-40xb8b"),u(M,"class","svelte-40xb8b"),u(_,"class","svelte-40xb8b"),u(j,"class","svelte-40xb8b"),u(R,"class","svelte-40xb8b"),u(S,"class","svelte-40xb8b"),u(e,"class","svelte-40xb8b")},m(n,c){le(n,e,c),t(e,l),me(a,l,null),t(l,r),me(o,l,null),t(e,i),t(e,M),t(M,A),t(e,p),t(e,_),t(_,V),t(e,C),t(e,j),t(j,F),t(e,L),t(e,R),t(R,q),t(e,K),t(e,S),t(S,J),t(e,P),T=!0},p(n,c){const H={};c&3&&(H.code=n[0][n[2]].location),a.$set(H);const B={};c&3&&(B.name=n[2]),c&3&&(B.from=n[0][n[2]].colors),c&3&&(B.to=n[0][n[2]].colors[1]),o.$set(B),(!T||c&3)&&O!==(O=n[0][n[2]].counts.all+"")&&Q(A,O),(!T||c&3)&&y!==(y=n[0][n[2]].counts["Any%"]+"")&&Q(V,y),(!T||c&3)&&E!==(E=n[0][n[2]].counts["No Major Glitches"]+"")&&Q(F,E),(!T||c&3)&&z!==(z=n[0][n[2]].counts["100%"]+"")&&Q(q,z),(!T||c&3)&&w!==(w=n[0][n[2]].counts["No Major Glitches 100%"]+"")&&Q(J,w)},i(n){T||(Y(a.$$.fragment,n),Y(o.$$.fragment,n),T=!0)},o(n){te(a.$$.fragment,n),te(o.$$.fragment,n),T=!1},d(n){n&&d(e),ge(a),ge(o)}}}function He(s){let e,l,a,r,o,i,M=(s[1]=="all"?"All":s[1])+"",O,A,p,_,y,V,C,j,E,F,L,R,z,q,K,S,w,J,P,T,n,c,H,B,X,U=Object.keys(s[0]).sort(s[4]),f=[];for(let h=0;h<U.length;h+=1)f[h]=pe(be(s,U,h));const Z=h=>te(f[h],1,1,()=>{f[h]=null});return{c(){e=m("div"),l=m("div"),a=N(),r=m("div"),o=m("button"),i=D("Current comparison: "),O=D(M),A=N(),p=m("table"),_=m("tr"),y=m("th"),V=D("Name"),C=N(),j=m("th"),E=D("All"),F=N(),L=m("th"),R=D("Any%"),z=N(),q=m("th"),K=D("NMG"),S=N(),w=m("th"),J=D("100%"),P=N(),T=m("th"),n=D("NMG 100%"),c=N();for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=g(h,"DIV",{class:!0});var k=b(e);l=g(k,"DIV",{class:!0}),b(l).forEach(d),a=G(k),r=g(k,"DIV",{class:!0});var v=b(r);o=g(v,"BUTTON",{});var W=b(o);i=$(W,"Current comparison: "),O=$(W,M),W.forEach(d),A=G(v),p=g(v,"TABLE",{class:!0});var x=b(p);_=g(x,"TR",{class:!0});var I=b(_);y=g(I,"TH",{class:!0});var ne=b(y);V=$(ne,"Name"),ne.forEach(d),C=G(I),j=g(I,"TH",{class:!0});var ce=b(j);E=$(ce,"All"),ce.forEach(d),F=G(I),L=g(I,"TH",{class:!0});var ie=b(L);R=$(ie,"Any%"),ie.forEach(d),z=G(I),q=g(I,"TH",{class:!0});var fe=b(q);K=$(fe,"NMG"),fe.forEach(d),S=G(I),w=g(I,"TH",{class:!0});var ue=b(w);J=$(ue,"100%"),ue.forEach(d),P=G(I),T=g(I,"TH",{class:!0});var he=b(T);n=$(he,"NMG 100%"),he.forEach(d),I.forEach(d),c=G(x);for(let se=0;se<f.length;se+=1)f[se].l(x);x.forEach(d),v.forEach(d),k.forEach(d),this.h()},h(){u(l,"class","background"),u(y,"class","svelte-40xb8b"),u(j,"class","svelte-40xb8b"),u(L,"class","svelte-40xb8b"),u(q,"class","svelte-40xb8b"),u(w,"class","svelte-40xb8b"),u(T,"class","svelte-40xb8b"),u(_,"class","svelte-40xb8b"),u(p,"class","svelte-40xb8b"),u(r,"class","main svelte-40xb8b"),u(e,"class","container svelte-40xb8b")},m(h,k){le(h,e,k),t(e,l),t(e,a),t(e,r),t(r,o),t(o,i),t(o,O),t(r,A),t(r,p),t(p,_),t(_,y),t(y,V),t(_,C),t(_,j),t(j,E),t(_,F),t(_,L),t(L,R),t(_,z),t(_,q),t(q,K),t(_,S),t(_,w),t(w,J),t(_,P),t(_,T),t(T,n),t(p,c);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(p,null);H=!0,B||(X=Ee(o,"click",s[3]),B=!0)},p(h,[k]){if((!H||k&2)&&M!==(M=(h[1]=="all"?"All":h[1])+"")&&Q(O,M),k&3){U=Object.keys(h[0]).sort(h[4]);let v;for(v=0;v<U.length;v+=1){const W=be(h,U,v);f[v]?(f[v].p(W,k),Y(f[v],1)):(f[v]=pe(W),f[v].c(),Y(f[v],1),f[v].m(p,null))}for(je(),v=U.length;v<f.length;v+=1)Z(v);ke()}},i(h){if(!H){for(let k=0;k<U.length;k+=1)Y(f[k]);H=!0}},o(h){f=f.filter(Boolean);for(let k=0;k<f.length;k+=1)te(f[k]);H=!1},d(h){h&&d(e),ye(f,h),B=!1,X()}}}function we(s,e,l){let a={},r=async()=>{let A=await(await fetch("https://api.komali.dev/ils")).json(),{lb:p}=A,_=Object.keys(p);for(let y of _)for(let V of Object.keys(p[y]))for(let C of Object.keys(p[y][V]))for(let j of p[y][V][C].filter(E=>E.place==1))for(let E of j.runners)a[E]||l(0,a[E]={colors:A.players[E].colors,location:A.players[E].location.split("/")[0],counts:{"Any%":0,"No Major Glitches":0,"100%":0,"No Major Glitches 100%":0,all:0}},a),l(0,a[E].counts[C]++,a),l(0,a[E].counts.all++,a)},o=0,i="all";function M(){l(1,i=["Any%","No Major Glitches","100%","No Major Glitches 100%","all"][o]),l(2,o=(o+1)%5)}return Te(r),[a,i,o,M,(A,p)=>a[p].counts[i]-a[A].counts[i]]}class Oe extends ae{constructor(e){super(),oe(this,e,we,He,re,{})}}export{Oe as component};
