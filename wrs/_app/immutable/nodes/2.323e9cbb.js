import{S as ne,i as ie,s as ue,k as p,q as D,l as b,m as y,r as O,h as v,n as i,b as F,G as r,u as x,H as se,e as be,J as je,a as G,c as M,g as le,f as Be,d as re,K as ce,o as Le,L as Ie,y as ke,z as ye,A as we,B as Ee,v as He}from"../chunks/index.6b92aaf9.js";function qe(s){let e,t,l;return{c(){e=p("div"),t=D(s[0]),this.h()},l(o){e=b(o,"DIV",{class:!0,style:!0});var n=y(e);t=O(n,s[0]),n.forEach(v),this.h()},h(){i(e,"class","name svelte-1pom4uv"),i(e,"style",l=`background-image: linear-gradient(to right, ${s[1]}, ${s[2]})`)},m(o,n){F(o,e,n),r(e,t)},p(o,[n]){n&1&&x(t,o[0]),n&6&&l!==(l=`background-image: linear-gradient(to right, ${o[1]}, ${o[2]})`)&&i(e,"style",l)},i:se,o:se,d(o){o&&v(e)}}}function Ve(s,e,t){let{name:l}=e,{from:o}=e,{to:n}=e;return s.$$set=u=>{"name"in u&&t(0,l=u.name),"from"in u&&t(1,o=u.from),"to"in u&&t(2,n=u.to)},[l,o,n]}class Se extends ne{constructor(e){super(),ie(this,e,Ve,qe,ue,{name:0,from:1,to:2})}}function Ne(s){let e,t,l,o;return{c(){e=p("div"),t=p("img"),this.h()},l(n){e=b(n,"DIV",{class:!0});var u=y(e);t=b(u,"IMG",{class:!0,src:!0,alt:!0}),u.forEach(v),this.h()},h(){i(t,"class","flag_img svelte-1gk5wov"),je(t.src,l=`https://flags.komali.dev/svg/${s[0]}.svg`)||i(t,"src",l),i(t,"alt",o=`flag_${s[0]}`),i(e,"class","flag svelte-1gk5wov")},m(n,u){F(n,e,u),r(e,t)},p(n,u){u&1&&!je(t.src,l=`https://flags.komali.dev/svg/${n[0]}.svg`)&&i(t,"src",l),u&1&&o!==(o=`flag_${n[0]}`)&&i(t,"alt",o)},d(n){n&&v(e)}}}function We(s){let e,t=s[0]!=""&&Ne(s);return{c(){t&&t.c(),e=be()},l(l){t&&t.l(l),e=be()},m(l,o){t&&t.m(l,o),F(l,e,o)},p(l,[o]){l[0]!=""?t?t.p(l,o):(t=Ne(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d(l){t&&t.d(l),l&&v(e)}}}function Ce(s,e,t){let{code:l}=e;return s.$$set=o=>{"code"in o&&t(0,l=o.code)},[l]}class Ke extends ne{constructor(e){super(),ie(this,e,Ce,We,ue,{code:0})}}function Ae(s,e,t){const l=s.slice();return l[16]=e[t],l}function Te(s,e,t){const l=s.slice();return l[16]=e[t],l}function Ge(s,e,t){const l=s.slice();return l[16]=e[t],l}function Me(s){let e,t,l,o,n,u;return{c(){e=p("input"),t=G(),l=p("label"),o=D(s[16]),this.h()},l(d){e=b(d,"INPUT",{class:!0,type:!0,name:!0,id:!0}),t=M(d),l=b(d,"LABEL",{for:!0,class:!0});var A=y(l);o=O(A,s[16]),A.forEach(v),this.h()},h(){i(e,"class","labeled svelte-7jb9u"),i(e,"type","radio"),i(e,"name","switch"),i(e,"id","switch_mode_"+s[16].replace(/[% ]/g,"")),i(l,"for","switch_mode_"+s[16].replace(/[% ]/g,"")),i(l,"class","svelte-7jb9u")},m(d,A){F(d,e,A),F(d,t,A),F(d,l,A),r(l,o),n||(u=Ie(e,"click",s[3]),n=!0)},p:se,d(d){d&&v(e),d&&v(t),d&&v(l),n=!1,u()}}}function De(s){let e,t,l,o,n=s[16]+"",u,d,A,N;return{c(){e=p("input"),l=G(),o=p("label"),u=D(n),this.h()},l(_){e=b(_,"INPUT",{class:!0,type:!0,name:!0,id:!0}),l=M(_),o=b(_,"LABEL",{for:!0,class:!0});var g=y(o);u=O(g,n),g.forEach(v),this.h()},h(){i(e,"class","labeled svelte-7jb9u"),i(e,"type","radio"),i(e,"name","cat_switch"),i(e,"id",t="switch_"+s[16].replace(/[% ]/g,"")),i(o,"for",d="switch_"+s[16].replace(/[% ]/g,"")),i(o,"class","svelte-7jb9u")},m(_,g){F(_,e,g),F(_,l,g),F(_,o,g),r(o,u),A||(N=Ie(e,"click",s[4]),A=!0)},p(_,g){g&2&&t!==(t="switch_"+_[16].replace(/[% ]/g,""))&&i(e,"id",t),g&2&&n!==(n=_[16]+"")&&x(u,n),g&2&&d!==(d="switch_"+_[16].replace(/[% ]/g,""))&&i(o,"for",d)},d(_){_&&v(e),_&&v(l),_&&v(o),A=!1,N()}}}function Oe(s){let e,t,l=s[5](Object.keys(s[0]).sort(s[8]).map(s[9]).indexOf(s[0][s[16]].counts[s[2]])+1)+"",o,n,u,d,A,N,_,g,U=s[0][s[16]].counts.all+"",H,Y,W,B=s[0][s[16]].counts["Any%"]+"",J,m,w,L=s[0][s[16]].counts["No Major Glitches"]+"",C,q,V,R=s[0][s[16]].counts["100%"]+"",T,ee,Q,K=s[0][s[16]].counts["No Major Glitches 100%"]+"",Z,te,I;return d=new Ke({props:{code:s[0][s[16]].location}}),N=new Se({props:{name:s[16],from:s[0][s[16]].colors,to:s[0][s[16]].colors[1]}}),{c(){e=p("tr"),t=p("td"),o=D(l),n=G(),u=p("td"),ke(d.$$.fragment),A=G(),ke(N.$$.fragment),_=G(),g=p("td"),H=D(U),Y=G(),W=p("td"),J=D(B),m=G(),w=p("td"),C=D(L),q=G(),V=p("td"),T=D(R),ee=G(),Q=p("td"),Z=D(K),te=G(),this.h()},l(h){e=b(h,"TR",{class:!0});var f=y(e);t=b(f,"TD",{class:!0});var P=y(t);o=O(P,l),P.forEach(v),n=M(f),u=b(f,"TD",{class:!0});var j=y(u);ye(d.$$.fragment,j),A=M(j),ye(N.$$.fragment,j),j.forEach(v),_=M(f),g=b(f,"TD",{class:!0});var X=y(g);H=O(X,U),X.forEach(v),Y=M(f),W=b(f,"TD",{class:!0});var k=y(W);J=O(k,B),k.forEach(v),m=M(f),w=b(f,"TD",{class:!0});var ae=y(w);C=O(ae,L),ae.forEach(v),q=M(f),V=b(f,"TD",{class:!0});var c=y(V);T=O(c,R),c.forEach(v),ee=M(f),Q=b(f,"TD",{class:!0});var E=y(Q);Z=O(E,K),E.forEach(v),te=M(f),f.forEach(v),this.h()},h(){i(t,"class","place svelte-7jb9u"),i(u,"class","svelte-7jb9u"),i(g,"class","svelte-7jb9u"),i(W,"class","svelte-7jb9u"),i(w,"class","svelte-7jb9u"),i(V,"class","svelte-7jb9u"),i(Q,"class","svelte-7jb9u"),i(e,"class","svelte-7jb9u")},m(h,f){F(h,e,f),r(e,t),r(t,o),r(e,n),r(e,u),we(d,u,null),r(u,A),we(N,u,null),r(e,_),r(e,g),r(g,H),r(e,Y),r(e,W),r(W,J),r(e,m),r(e,w),r(w,C),r(e,q),r(e,V),r(V,T),r(e,ee),r(e,Q),r(Q,Z),r(e,te),I=!0},p(h,f){(!I||f&5)&&l!==(l=h[5](Object.keys(h[0]).sort(h[8]).map(h[9]).indexOf(h[0][h[16]].counts[h[2]])+1)+"")&&x(o,l);const P={};f&5&&(P.code=h[0][h[16]].location),d.$set(P);const j={};f&5&&(j.name=h[16]),f&5&&(j.from=h[0][h[16]].colors),f&5&&(j.to=h[0][h[16]].colors[1]),N.$set(j),(!I||f&5)&&U!==(U=h[0][h[16]].counts.all+"")&&x(H,U),(!I||f&5)&&B!==(B=h[0][h[16]].counts["Any%"]+"")&&x(J,B),(!I||f&5)&&L!==(L=h[0][h[16]].counts["No Major Glitches"]+"")&&x(C,L),(!I||f&5)&&R!==(R=h[0][h[16]].counts["100%"]+"")&&x(T,R),(!I||f&5)&&K!==(K=h[0][h[16]].counts["No Major Glitches 100%"]+"")&&x(Z,K)},i(h){I||(le(d.$$.fragment,h),le(N.$$.fragment,h),I=!0)},o(h){re(d.$$.fragment,h),re(N.$$.fragment,h),I=!1},d(h){h&&v(e),Ee(d),Ee(N)}}}function Pe(s){let e,t,l,o,n,u,d,A,N,_,g,U,H,Y,W,B,J,m,w,L,C,q,V,R,T,ee,Q,K,Z,te,I,h=["All","BotW","TotK"],f=[];for(let c=0;c<3;c+=1)f[c]=Me(Ge(s,h,c));let P=s[1],j=[];for(let c=0;c<P.length;c+=1)j[c]=De(Te(s,P,c));let X=Object.keys(s[0]).sort(s[7]),k=[];for(let c=0;c<X.length;c+=1)k[c]=Oe(Ae(s,X,c));const ae=c=>re(k[c],1,1,()=>{k[c]=null});return{c(){e=p("div"),t=p("div"),l=G(),o=p("div"),n=p("div");for(let c=0;c<3;c+=1)f[c].c();u=G(),d=p("div");for(let c=0;c<j.length;c+=1)j[c].c();A=G(),N=p("table"),_=p("tr"),g=p("th"),U=D("#"),H=p("th"),Y=D("Name"),W=G(),B=p("th"),J=D("All"),m=G(),w=p("th"),L=D("Any%"),C=G(),q=p("th"),V=D("NMG"),R=G(),T=p("th"),ee=D("100%"),Q=G(),K=p("th"),Z=D("NMG 100%"),te=G();for(let c=0;c<k.length;c+=1)k[c].c();this.h()},l(c){e=b(c,"DIV",{class:!0});var E=y(e);t=b(E,"DIV",{class:!0}),y(t).forEach(v),l=M(E),o=b(E,"DIV",{class:!0});var a=y(o);n=b(a,"DIV",{class:!0});var $=y(n);for(let z=0;z<3;z+=1)f[z].l($);$.forEach(v),u=M(a),d=b(a,"DIV",{class:!0});var fe=y(d);for(let z=0;z<j.length;z+=1)j[z].l(fe);fe.forEach(v),A=M(a),N=b(a,"TABLE",{class:!0});var oe=y(N);_=b(oe,"TR",{class:!0});var S=y(_);g=b(S,"TH",{class:!0});var he=y(g);U=O(he,"#"),he.forEach(v),H=b(S,"TH",{class:!0});var _e=y(H);Y=O(_e,"Name"),_e.forEach(v),W=M(S),B=b(S,"TH",{class:!0});var de=y(B);J=O(de,"All"),de.forEach(v),m=M(S),w=b(S,"TH",{class:!0});var ve=y(w);L=O(ve,"Any%"),ve.forEach(v),C=M(S),q=b(S,"TH",{class:!0});var me=y(q);V=O(me,"NMG"),me.forEach(v),R=M(S),T=b(S,"TH",{class:!0});var ge=y(T);ee=O(ge,"100%"),ge.forEach(v),Q=M(S),K=b(S,"TH",{class:!0});var pe=y(K);Z=O(pe,"NMG 100%"),pe.forEach(v),S.forEach(v),te=M(oe);for(let z=0;z<k.length;z+=1)k[z].l(oe);oe.forEach(v),a.forEach(v),E.forEach(v),this.h()},h(){i(t,"class","background"),i(n,"class","selects_mode svelte-7jb9u"),i(d,"class","selects svelte-7jb9u"),i(g,"class","place svelte-7jb9u"),i(H,"class","svelte-7jb9u"),i(B,"class","svelte-7jb9u"),i(w,"class","svelte-7jb9u"),i(q,"class","svelte-7jb9u"),i(T,"class","svelte-7jb9u"),i(K,"class","svelte-7jb9u"),i(_,"class","svelte-7jb9u"),i(N,"class","svelte-7jb9u"),i(o,"class","main svelte-7jb9u"),i(e,"class","container svelte-7jb9u")},m(c,E){F(c,e,E),r(e,t),r(e,l),r(e,o),r(o,n);for(let a=0;a<3;a+=1)f[a]&&f[a].m(n,null);r(o,u),r(o,d);for(let a=0;a<j.length;a+=1)j[a]&&j[a].m(d,null);r(o,A),r(o,N),r(N,_),r(_,g),r(g,U),r(_,H),r(H,Y),r(_,W),r(_,B),r(B,J),r(_,m),r(_,w),r(w,L),r(_,C),r(_,q),r(q,V),r(_,R),r(_,T),r(T,ee),r(_,Q),r(_,K),r(K,Z),r(N,te);for(let a=0;a<k.length;a+=1)k[a]&&k[a].m(N,null);I=!0},p(c,[E]){if(E&8){h=["All","BotW","TotK"];let a;for(a=0;a<3;a+=1){const $=Ge(c,h,a);f[a]?f[a].p($,E):(f[a]=Me($),f[a].c(),f[a].m(n,null))}for(;a<3;a+=1)f[a].d(1)}if(E&18){P=c[1];let a;for(a=0;a<P.length;a+=1){const $=Te(c,P,a);j[a]?j[a].p($,E):(j[a]=De($),j[a].c(),j[a].m(d,null))}for(;a<j.length;a+=1)j[a].d(1);j.length=P.length}if(E&37){X=Object.keys(c[0]).sort(c[7]);let a;for(a=0;a<X.length;a+=1){const $=Ae(c,X,a);k[a]?(k[a].p($,E),le(k[a],1)):(k[a]=Oe($),k[a].c(),le(k[a],1),k[a].m(N,null))}for(He(),a=X.length;a<k.length;a+=1)ae(a);Be()}},i(c){if(!I){for(let E=0;E<X.length;E+=1)le(k[E]);I=!0}},o(c){k=k.filter(Boolean);for(let E=0;E<k.length;E+=1)re(k[E]);I=!1},d(c){c&&v(e),ce(f,c),ce(j,c),ce(k,c)}}}function Ue(s,e,t){let l={},o={},n="botw",u=["All","Any%","NMG","100%","NMG 100%"],d={botw:{},all:{},totk:{}},A=async m=>{let w="https://api.komali.dev";if(Object.keys(d[m]).length>0)return d[m];let L=await(await fetch(w+"/ils?mode="+m)).json();return d[m]=L,L},N=async m=>{t(0,l=o={}),m=="totk"?t(1,u=["All","Any%","100%"]):t(1,u=["All","Any%","NMG","100%","NMG 100%"]);let w=await A(m);o=w.lb;let L=Object.keys(o);for(let C of L)for(let q of Object.keys(o[C]))for(let V of Object.keys(o[C][q]))for(let R of o[C][q][V].filter(T=>T.place==1))for(let T of R.runners)l[T]||t(0,l[T]={colors:w.players[T].colors,location:(w.players[T].location||"").split("/")[0],counts:{"Any%":0,"No Major Glitches":0,"100%":0,"No Major Glitches 100%":0,all:0}},l),t(0,l[T].counts[V]++,l),t(0,l[T].counts.all++,l)},_=async()=>{document.querySelector("#switch_All").checked=!0,document.querySelector("#switch_mode_BotW").checked=!0},g="all";function U(){t(6,n=["All","BotW","TotK"].find(m=>document.querySelector("#switch_mode_"+m).checked).toLowerCase())}function H(){t(2,g=["all","Any%","No Major Glitches","100%","No Major Glitches 100%"].filter(m=>u.map(w=>w.replace("NMG","No Major Glitches").toLowerCase().replace(/[% ]/g,"")).includes(m.toLowerCase().replace(/[% ]/g,"")))[u.map(m=>m.replace(/[% ]/g,"")).map(m=>document.querySelector("#switch_"+m).checked).indexOf(!0)])}let Y=m=>m+(window.innerWidth<838?".":["st","nd","rd"][(((m<0?-m:m)+90)%100-10)%10-1]||"th");Le(_);const W=(m,w)=>l[w].counts[g]-l[m].counts[g],B=(m,w)=>l[w].counts[g]-l[m].counts[g],J=m=>l[m].counts[g];return s.$$.update=()=>{s.$$.dirty&64&&t(0,l=N(n))},[l,u,g,U,H,Y,n,W,B,J]}class $e extends ne{constructor(e){super(),ie(this,e,Ue,Pe,ue,{})}}export{$e as component};
