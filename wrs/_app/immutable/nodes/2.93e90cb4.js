import{S as ne,i as ie,s as fe,k as g,q as D,l as b,m as E,r as O,h as v,n as i,b as F,G as r,u as x,H as se,e as be,J as ke,a as M,c as j,g as le,f as Be,d as re,K as ce,o as Le,L as Ie,y as ye,z as Ee,A as we,B as Ae,v as He}from"../chunks/index.6b92aaf9.js";function qe(s){let e,t,l;return{c(){e=g("div"),t=D(s[0]),this.h()},l(o){e=b(o,"DIV",{class:!0,style:!0});var n=E(e);t=O(n,s[0]),n.forEach(v),this.h()},h(){i(e,"class","name svelte-1pom4uv"),i(e,"style",l=`background-image: linear-gradient(to right, ${s[1]}, ${s[2]})`)},m(o,n){F(o,e,n),r(e,t)},p(o,[n]){n&1&&x(t,o[0]),n&6&&l!==(l=`background-image: linear-gradient(to right, ${o[1]}, ${o[2]})`)&&i(e,"style",l)},i:se,o:se,d(o){o&&v(e)}}}function Ve(s,e,t){let{name:l}=e,{from:o}=e,{to:n}=e;return s.$$set=f=>{"name"in f&&t(0,l=f.name),"from"in f&&t(1,o=f.from),"to"in f&&t(2,n=f.to)},[l,o,n]}class Se extends ne{constructor(e){super(),ie(this,e,Ve,qe,fe,{name:0,from:1,to:2})}}function Te(s){let e,t,l,o;return{c(){e=g("div"),t=g("img"),this.h()},l(n){e=b(n,"DIV",{class:!0});var f=E(e);t=b(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(v),this.h()},h(){i(t,"class","flag_img svelte-k1k8ap"),ke(t.src,l=`https://flags.komali.dev/svg/${s[0]}.svg`)||i(t,"src",l),i(t,"alt",o=`flag_${s[0]}`),i(e,"class","flag svelte-k1k8ap")},m(n,f){F(n,e,f),r(e,t)},p(n,f){f&1&&!ke(t.src,l=`https://flags.komali.dev/svg/${n[0]}.svg`)&&i(t,"src",l),f&1&&o!==(o=`flag_${n[0]}`)&&i(t,"alt",o)},d(n){n&&v(e)}}}function Ce(s){let e,t=s[0]!=""&&Te(s);return{c(){t&&t.c(),e=be()},l(l){t&&t.l(l),e=be()},m(l,o){t&&t.m(l,o),F(l,e,o)},p(l,[o]){l[0]!=""?t?t.p(l,o):(t=Te(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d(l){t&&t.d(l),l&&v(e)}}}function Ke(s,e,t){let{code:l}=e;return s.$$set=o=>{"code"in o&&t(0,l=o.code)},[l]}class We extends ne{constructor(e){super(),ie(this,e,Ke,Ce,fe,{code:0})}}function Ne(s,e,t){const l=s.slice();return l[16]=e[t],l}function Ge(s,e,t){const l=s.slice();return l[16]=e[t],l}function Me(s,e,t){const l=s.slice();return l[16]=e[t],l}function je(s){let e,t,l,o,n,f;return{c(){e=g("input"),t=M(),l=g("label"),o=D(s[16]),this.h()},l(d){e=b(d,"INPUT",{class:!0,type:!0,name:!0,id:!0}),t=j(d),l=b(d,"LABEL",{for:!0,class:!0});var N=E(l);o=O(N,s[16]),N.forEach(v),this.h()},h(){i(e,"class","labeled svelte-s34rpl"),i(e,"type","radio"),i(e,"name","cat_switch"),i(e,"id","switch_mode_"+s[16].replace(/[% ]/g,"")),i(l,"for","switch_mode_"+s[16].replace(/[% ]/g,"")),i(l,"class","svelte-s34rpl")},m(d,N){F(d,e,N),F(d,t,N),F(d,l,N),r(l,o),n||(f=Ie(e,"click",s[3]),n=!0)},p:se,d(d){d&&v(e),d&&v(t),d&&v(l),n=!1,f()}}}function De(s){let e,t,l,o,n=s[16]+"",f,d,N,T;return{c(){e=g("input"),l=M(),o=g("label"),f=D(n),this.h()},l(_){e=b(_,"INPUT",{class:!0,type:!0,name:!0,id:!0}),l=j(_),o=b(_,"LABEL",{for:!0,class:!0});var p=E(o);f=O(p,n),p.forEach(v),this.h()},h(){i(e,"class","labeled svelte-s34rpl"),i(e,"type","radio"),i(e,"name","cat_switch"),i(e,"id",t="switch_"+s[16].replace(/[% ]/g,"")),i(o,"for",d="switch_"+s[16].replace(/[% ]/g,"")),i(o,"class","svelte-s34rpl")},m(_,p){F(_,e,p),F(_,l,p),F(_,o,p),r(o,f),N||(T=Ie(e,"click",s[4]),N=!0)},p(_,p){p&2&&t!==(t="switch_"+_[16].replace(/[% ]/g,""))&&i(e,"id",t),p&2&&n!==(n=_[16]+"")&&x(f,n),p&2&&d!==(d="switch_"+_[16].replace(/[% ]/g,""))&&i(o,"for",d)},d(_){_&&v(e),_&&v(l),_&&v(o),N=!1,T()}}}function Oe(s){let e,t,l=s[5](Object.keys(s[0]).sort(s[8]).map(s[9]).indexOf(s[0][s[16]].counts[s[2]])+1)+"",o,n,f,d,N,T,_,p,U=s[0][s[16]].counts.all+"",H,Y,C,B=s[0][s[16]].counts["Any%"]+"",J,m,w,L=s[0][s[16]].counts["No Major Glitches"]+"",K,q,V,R=s[0][s[16]].counts["100%"]+"",G,ee,Q,W=s[0][s[16]].counts["No Major Glitches 100%"]+"",Z,te,I;return d=new We({props:{code:s[0][s[16]].location}}),T=new Se({props:{name:s[16],from:s[0][s[16]].colors,to:s[0][s[16]].colors[1]}}),{c(){e=g("tr"),t=g("td"),o=D(l),n=M(),f=g("td"),ye(d.$$.fragment),N=M(),ye(T.$$.fragment),_=M(),p=g("td"),H=D(U),Y=M(),C=g("td"),J=D(B),m=M(),w=g("td"),K=D(L),q=M(),V=g("td"),G=D(R),ee=M(),Q=g("td"),Z=D(W),te=M(),this.h()},l(h){e=b(h,"TR",{class:!0});var u=E(e);t=b(u,"TD",{class:!0});var P=E(t);o=O(P,l),P.forEach(v),n=j(u),f=b(u,"TD",{class:!0});var k=E(f);Ee(d.$$.fragment,k),N=j(k),Ee(T.$$.fragment,k),k.forEach(v),_=j(u),p=b(u,"TD",{class:!0});var X=E(p);H=O(X,U),X.forEach(v),Y=j(u),C=b(u,"TD",{class:!0});var y=E(C);J=O(y,B),y.forEach(v),m=j(u),w=b(u,"TD",{class:!0});var ae=E(w);K=O(ae,L),ae.forEach(v),q=j(u),V=b(u,"TD",{class:!0});var c=E(V);G=O(c,R),c.forEach(v),ee=j(u),Q=b(u,"TD",{class:!0});var A=E(Q);Z=O(A,W),A.forEach(v),te=j(u),u.forEach(v),this.h()},h(){i(t,"class","place svelte-s34rpl"),i(f,"class","svelte-s34rpl"),i(p,"class","svelte-s34rpl"),i(C,"class","svelte-s34rpl"),i(w,"class","svelte-s34rpl"),i(V,"class","svelte-s34rpl"),i(Q,"class","svelte-s34rpl"),i(e,"class","svelte-s34rpl")},m(h,u){F(h,e,u),r(e,t),r(t,o),r(e,n),r(e,f),we(d,f,null),r(f,N),we(T,f,null),r(e,_),r(e,p),r(p,H),r(e,Y),r(e,C),r(C,J),r(e,m),r(e,w),r(w,K),r(e,q),r(e,V),r(V,G),r(e,ee),r(e,Q),r(Q,Z),r(e,te),I=!0},p(h,u){(!I||u&5)&&l!==(l=h[5](Object.keys(h[0]).sort(h[8]).map(h[9]).indexOf(h[0][h[16]].counts[h[2]])+1)+"")&&x(o,l);const P={};u&5&&(P.code=h[0][h[16]].location),d.$set(P);const k={};u&5&&(k.name=h[16]),u&5&&(k.from=h[0][h[16]].colors),u&5&&(k.to=h[0][h[16]].colors[1]),T.$set(k),(!I||u&5)&&U!==(U=h[0][h[16]].counts.all+"")&&x(H,U),(!I||u&5)&&B!==(B=h[0][h[16]].counts["Any%"]+"")&&x(J,B),(!I||u&5)&&L!==(L=h[0][h[16]].counts["No Major Glitches"]+"")&&x(K,L),(!I||u&5)&&R!==(R=h[0][h[16]].counts["100%"]+"")&&x(G,R),(!I||u&5)&&W!==(W=h[0][h[16]].counts["No Major Glitches 100%"]+"")&&x(Z,W)},i(h){I||(le(d.$$.fragment,h),le(T.$$.fragment,h),I=!0)},o(h){re(d.$$.fragment,h),re(T.$$.fragment,h),I=!1},d(h){h&&v(e),Ae(d),Ae(T)}}}function Pe(s){let e,t,l,o,n,f,d,N,T,_,p,U,H,Y,C,B,J,m,w,L,K,q,V,R,G,ee,Q,W,Z,te,I,h=["All","BotW","TotK"],u=[];for(let c=0;c<3;c+=1)u[c]=je(Me(s,h,c));let P=s[1],k=[];for(let c=0;c<P.length;c+=1)k[c]=De(Ge(s,P,c));let X=Object.keys(s[0]).sort(s[7]),y=[];for(let c=0;c<X.length;c+=1)y[c]=Oe(Ne(s,X,c));const ae=c=>re(y[c],1,1,()=>{y[c]=null});return{c(){e=g("div"),t=g("div"),l=M(),o=g("div"),n=g("div");for(let c=0;c<3;c+=1)u[c].c();f=M(),d=g("div");for(let c=0;c<k.length;c+=1)k[c].c();N=M(),T=g("table"),_=g("tr"),p=g("th"),U=D("#"),H=g("th"),Y=D("Name"),C=M(),B=g("th"),J=D("All"),m=M(),w=g("th"),L=D("Any%"),K=M(),q=g("th"),V=D("NMG"),R=M(),G=g("th"),ee=D("100%"),Q=M(),W=g("th"),Z=D("NMG 100%"),te=M();for(let c=0;c<y.length;c+=1)y[c].c();this.h()},l(c){e=b(c,"DIV",{class:!0});var A=E(e);t=b(A,"DIV",{class:!0}),E(t).forEach(v),l=j(A),o=b(A,"DIV",{class:!0});var a=E(o);n=b(a,"DIV",{class:!0});var $=E(n);for(let z=0;z<3;z+=1)u[z].l($);$.forEach(v),f=j(a),d=b(a,"DIV",{class:!0});var ue=E(d);for(let z=0;z<k.length;z+=1)k[z].l(ue);ue.forEach(v),N=j(a),T=b(a,"TABLE",{class:!0});var oe=E(T);_=b(oe,"TR",{class:!0});var S=E(_);p=b(S,"TH",{class:!0});var he=E(p);U=O(he,"#"),he.forEach(v),H=b(S,"TH",{class:!0});var _e=E(H);Y=O(_e,"Name"),_e.forEach(v),C=j(S),B=b(S,"TH",{class:!0});var de=E(B);J=O(de,"All"),de.forEach(v),m=j(S),w=b(S,"TH",{class:!0});var ve=E(w);L=O(ve,"Any%"),ve.forEach(v),K=j(S),q=b(S,"TH",{class:!0});var me=E(q);V=O(me,"NMG"),me.forEach(v),R=j(S),G=b(S,"TH",{class:!0});var pe=E(G);ee=O(pe,"100%"),pe.forEach(v),Q=j(S),W=b(S,"TH",{class:!0});var ge=E(W);Z=O(ge,"NMG 100%"),ge.forEach(v),S.forEach(v),te=j(oe);for(let z=0;z<y.length;z+=1)y[z].l(oe);oe.forEach(v),a.forEach(v),A.forEach(v),this.h()},h(){i(t,"class","background"),i(n,"class","selects_mode svelte-s34rpl"),i(d,"class","selects svelte-s34rpl"),i(p,"class","place svelte-s34rpl"),i(H,"class","svelte-s34rpl"),i(B,"class","svelte-s34rpl"),i(w,"class","svelte-s34rpl"),i(q,"class","svelte-s34rpl"),i(G,"class","svelte-s34rpl"),i(W,"class","svelte-s34rpl"),i(_,"class","svelte-s34rpl"),i(T,"class","svelte-s34rpl"),i(o,"class","main svelte-s34rpl"),i(e,"class","container svelte-s34rpl")},m(c,A){F(c,e,A),r(e,t),r(e,l),r(e,o),r(o,n);for(let a=0;a<3;a+=1)u[a]&&u[a].m(n,null);r(o,f),r(o,d);for(let a=0;a<k.length;a+=1)k[a]&&k[a].m(d,null);r(o,N),r(o,T),r(T,_),r(_,p),r(p,U),r(_,H),r(H,Y),r(_,C),r(_,B),r(B,J),r(_,m),r(_,w),r(w,L),r(_,K),r(_,q),r(q,V),r(_,R),r(_,G),r(G,ee),r(_,Q),r(_,W),r(W,Z),r(T,te);for(let a=0;a<y.length;a+=1)y[a]&&y[a].m(T,null);I=!0},p(c,[A]){if(A&8){h=["All","BotW","TotK"];let a;for(a=0;a<3;a+=1){const $=Me(c,h,a);u[a]?u[a].p($,A):(u[a]=je($),u[a].c(),u[a].m(n,null))}for(;a<3;a+=1)u[a].d(1)}if(A&18){P=c[1];let a;for(a=0;a<P.length;a+=1){const $=Ge(c,P,a);k[a]?k[a].p($,A):(k[a]=De($),k[a].c(),k[a].m(d,null))}for(;a<k.length;a+=1)k[a].d(1);k.length=P.length}if(A&37){X=Object.keys(c[0]).sort(c[7]);let a;for(a=0;a<X.length;a+=1){const $=Ne(c,X,a);y[a]?(y[a].p($,A),le(y[a],1)):(y[a]=Oe($),y[a].c(),le(y[a],1),y[a].m(T,null))}for(He(),a=X.length;a<y.length;a+=1)ae(a);Be()}},i(c){if(!I){for(let A=0;A<X.length;A+=1)le(y[A]);I=!0}},o(c){y=y.filter(Boolean);for(let A=0;A<y.length;A+=1)re(y[A]);I=!1},d(c){c&&v(e),ce(u,c),ce(k,c),ce(y,c)}}}function Ue(s,e,t){let l={},o={},n="botw",f=["All","Any%","NMG","100%","NMG 100%"],d={botw:{},all:{},totk:{}},N=async m=>{let w=window.location.hostname=="localhost"?"http://localhost:3000":"https://api.komali.dev";if(Object.keys(d[m]).length>0)return d[m];let L=await(await fetch(w+"/ils?mode="+m)).json();return d[m]=L,console.log(d),L},T=async m=>{t(0,l=o={}),m=="totk"?t(1,f=["All","Any%","100%"]):t(1,f=["All","Any%","NMG","100%","NMG 100%"]);let w=await N(m);o=w.lb;let L=Object.keys(o);for(let K of L)for(let q of Object.keys(o[K]))for(let V of Object.keys(o[K][q]))for(let R of o[K][q][V].filter(G=>G.place==1))for(let G of R.runners)l[G]||t(0,l[G]={colors:w.players[G].colors,location:(w.players[G].location||"").split("/")[0],counts:{"Any%":0,"No Major Glitches":0,"100%":0,"No Major Glitches 100%":0,all:0}},l),t(0,l[G].counts[V]++,l),t(0,l[G].counts.all++,l)},_=async()=>{document.querySelector("#switch_All").checked=!0,document.querySelector("#switch_mode_BotW").checked=!0},p="all";function U(){t(6,n=["All","BotW","TotK"].find(m=>document.querySelector("#switch_mode_"+m).checked).toLowerCase())}function H(){t(2,p=["all","Any%","No Major Glitches","100%","No Major Glitches 100%"].filter(m=>f.map(w=>w.toLowerCase().replace(/[% ]/g,"")).includes(m.toLowerCase().replace(/[% ]/g,"")))[f.map(m=>m.replace(/[% ]/g,"")).map(m=>document.querySelector("#switch_"+m).checked).indexOf(!0)])}let Y=m=>m+(["st","nd","rd"][(((m<0?-m:m)+90)%100-10)%10-1]||"th");Le(_);const C=(m,w)=>l[w].counts[p]-l[m].counts[p],B=(m,w)=>l[w].counts[p]-l[m].counts[p],J=m=>l[m].counts[p];return s.$$.update=()=>{s.$$.dirty&64&&t(0,l=T(n))},[l,f,p,U,H,Y,n,C,B,J]}class $e extends ne{constructor(e){super(),ie(this,e,Ue,Pe,fe,{})}}export{$e as component};
