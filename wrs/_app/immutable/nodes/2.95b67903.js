import{S as pe,i as be,s as ge,k as d,q as D,l as m,m as g,r as O,h,n,b as R,G as o,u as te,H as ue,e as De,J as Oe,a as y,c as A,g as fe,f as Fe,d as de,K as ve,o as Je,L as ze,y as Ie,z as Le,A as $e,B as Be,v as Ke}from"../chunks/index.6b92aaf9.js";function Qe(s){let e,l,t;return{c(){e=d("div"),l=D(s[0]),this.h()},l(r){e=m(r,"DIV",{class:!0,style:!0});var c=g(e);l=O(c,s[0]),c.forEach(h),this.h()},h(){n(e,"class","name svelte-1pom4uv"),n(e,"style",t=`background-image: linear-gradient(to right, ${s[1]}, ${s[2]})`)},m(r,c){R(r,e,c),o(e,l)},p(r,[c]){c&1&&te(l,r[0]),c&6&&t!==(t=`background-image: linear-gradient(to right, ${r[1]}, ${r[2]})`)&&n(e,"style",t)},i:ue,o:ue,d(r){r&&h(e)}}}function We(s,e,l){let{name:t}=e,{from:r}=e,{to:c}=e;return s.$$set=f=>{"name"in f&&l(0,t=f.name),"from"in f&&l(1,r=f.from),"to"in f&&l(2,c=f.to)},[t,r,c]}class Xe extends pe{constructor(e){super(),be(this,e,We,Qe,ge,{name:0,from:1,to:2})}}function He(s){let e,l,t,r;return{c(){e=d("div"),l=d("img"),this.h()},l(c){e=m(c,"DIV",{class:!0});var f=g(e);l=m(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(h),this.h()},h(){n(l,"class","flag_img svelte-1k25bsj"),Oe(l.src,t=`https://flags.komali.dev/svg/${s[0]}.svg`)||n(l,"src",t),n(l,"alt",r=`flag_${s[0]}`),n(e,"class","flag svelte-1k25bsj")},m(c,f){R(c,e,f),o(e,l)},p(c,f){f&1&&!Oe(l.src,t=`https://flags.komali.dev/svg/${c[0]}.svg`)&&n(l,"src",t),f&1&&r!==(r=`flag_${c[0]}`)&&n(l,"alt",r)},d(c){c&&h(e)}}}function Ye(s){let e,l=s[0]!=""&&He(s);return{c(){l&&l.c(),e=De()},l(t){l&&l.l(t),e=De()},m(t,r){l&&l.m(t,r),R(t,e,r)},p(t,[r]){t[0]!=""?l?l.p(t,r):(l=He(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ue,o:ue,d(t){l&&l.d(t),t&&h(e)}}}function Ze(s,e,l){let{code:t}=e;return s.$$set=r=>{"code"in r&&l(0,t=r.code)},[t]}class xe extends pe{constructor(e){super(),be(this,e,Ze,Ye,ge,{code:0})}}function Ve(s,e,l){const t=s.slice();return t[12]=e[l],t}function Pe(s,e,l){const t=s.slice();return t[12]=e[l],t}function Se(s,e,l){const t=s.slice();return t[12]=e[l],t[18]=l,t}function qe(s){let e,l,t,r,c=s[5](s[12])+"",f,p,k,M,z;return{c(){e=d("input"),t=y(),r=d("label"),f=D(c),k=y(),this.h()},l(_){e=m(_,"INPUT",{class:!0,type:!0,name:!0,id:!0}),t=A(_),r=m(_,"LABEL",{for:!0,class:!0});var T=g(r);f=O(T,c),T.forEach(h),k=A(_),this.h()},h(){n(e,"class","labeled svelte-dopbom"),n(e,"type","checkbox"),n(e,"name","level_switch"),n(e,"id",l="switch_"+s[12].replace(/[% ]/g,"")),n(r,"for",p="switch_"+s[12].replace(/[% ]/g,"")),n(r,"class","svelte-dopbom")},m(_,T){R(_,e,T),R(_,t,T),R(_,r,T),o(r,f),R(_,k,T),M||(z=ze(e,"click",s[3]),M=!0)},p(_,T){T&2&&l!==(l="switch_"+_[12].replace(/[% ]/g,""))&&n(e,"id",l),T&2&&c!==(c=_[5](_[12])+"")&&te(f,c),T&2&&p!==(p="switch_"+_[12].replace(/[% ]/g,""))&&n(r,"for",p)},d(_){_&&h(e),_&&h(t),_&&h(r),_&&h(k),M=!1,z()}}}function Ue(s){let e,l,t,r,c,f;return{c(){e=d("input"),l=y(),t=d("label"),r=D(s[12]),this.h()},l(p){e=m(p,"INPUT",{class:!0,type:!0,name:!0,id:!0}),l=A(p),t=m(p,"LABEL",{for:!0,class:!0});var k=g(t);r=O(k,s[12]),k.forEach(h),this.h()},h(){n(e,"class","labeled svelte-dopbom"),n(e,"type","radio"),n(e,"name","cat_switch"),n(e,"id","switch_"+s[12].replace(/[% ]/g,"")),n(t,"for","switch_"+s[12].replace(/[% ]/g,"")),n(t,"class","svelte-dopbom")},m(p,k){R(p,e,k),R(p,l,k),R(p,t,k),o(t,r),c||(f=ze(e,"click",s[3]),c=!0)},p:ue,d(p){p&&h(e),p&&h(l),p&&h(t),c=!1,f()}}}function Re(s){let e,l,t=s[4](Object.keys(s[0]).sort(s[7]).map(s[8]).indexOf(s[0][s[12]].counts[s[2]])+1)+"",r,c,f,p,k,M,z,_,T=s[0][s[12]].counts.all+"",b,V,B,q=s[0][s[12]].counts["Any%"]+"",$,W,E,G=s[0][s[12]].counts["No Major Glitches"]+"",C,le,P,X=s[0][s[12]].counts["100%"]+"",ee,K,Q,Y=s[0][s[12]].counts["No Major Glitches 100%"]+"",F,se,H;return p=new xe({props:{code:s[0][s[12]].location}}),M=new Xe({props:{name:s[12],from:s[0][s[12]].colors,to:s[0][s[12]].colors[1]}}),{c(){e=d("tr"),l=d("td"),r=D(t),c=y(),f=d("td"),Ie(p.$$.fragment),k=y(),Ie(M.$$.fragment),z=y(),_=d("td"),b=D(T),V=y(),B=d("td"),$=D(q),W=y(),E=d("td"),C=D(G),le=y(),P=d("td"),ee=D(X),K=y(),Q=d("td"),F=D(Y),se=y(),this.h()},l(u){e=m(u,"TR",{class:!0});var v=g(e);l=m(v,"TD",{class:!0});var Z=g(l);r=O(Z,t),Z.forEach(h),c=A(v),f=m(v,"TD",{class:!0});var L=g(f);Le(p.$$.fragment,L),k=A(L),Le(M.$$.fragment,L),L.forEach(h),z=A(v),_=m(v,"TD",{class:!0});var ae=g(_);b=O(ae,T),ae.forEach(h),V=A(v),B=m(v,"TD",{class:!0});var re=g(B);$=O(re,q),re.forEach(h),W=A(v),E=m(v,"TD",{class:!0});var x=g(E);C=O(x,G),x.forEach(h),le=A(v),P=m(v,"TD",{class:!0});var ne=g(P);ee=O(ne,X),ne.forEach(h),K=A(v),Q=m(v,"TD",{class:!0});var ce=g(Q);F=O(ce,Y),ce.forEach(h),se=A(v),v.forEach(h),this.h()},h(){n(l,"class","place svelte-dopbom"),n(f,"class","svelte-dopbom"),n(_,"class","svelte-dopbom"),n(B,"class","svelte-dopbom"),n(E,"class","svelte-dopbom"),n(P,"class","svelte-dopbom"),n(Q,"class","svelte-dopbom"),n(e,"class","svelte-dopbom")},m(u,v){R(u,e,v),o(e,l),o(l,r),o(e,c),o(e,f),$e(p,f,null),o(f,k),$e(M,f,null),o(e,z),o(e,_),o(_,b),o(e,V),o(e,B),o(B,$),o(e,W),o(e,E),o(E,C),o(e,le),o(e,P),o(P,ee),o(e,K),o(e,Q),o(Q,F),o(e,se),H=!0},p(u,v){(!H||v&5)&&t!==(t=u[4](Object.keys(u[0]).sort(u[7]).map(u[8]).indexOf(u[0][u[12]].counts[u[2]])+1)+"")&&te(r,t);const Z={};v&5&&(Z.code=u[0][u[12]].location),p.$set(Z);const L={};v&5&&(L.name=u[12]),v&5&&(L.from=u[0][u[12]].colors),v&5&&(L.to=u[0][u[12]].colors[1]),M.$set(L),(!H||v&5)&&T!==(T=u[0][u[12]].counts.all+"")&&te(b,T),(!H||v&5)&&q!==(q=u[0][u[12]].counts["Any%"]+"")&&te($,q),(!H||v&5)&&G!==(G=u[0][u[12]].counts["No Major Glitches"]+"")&&te(C,G),(!H||v&5)&&X!==(X=u[0][u[12]].counts["100%"]+"")&&te(ee,X),(!H||v&5)&&Y!==(Y=u[0][u[12]].counts["No Major Glitches 100%"]+"")&&te(F,Y)},i(u){H||(fe(p.$$.fragment,u),fe(M.$$.fragment,u),H=!0)},o(u){de(p.$$.fragment,u),de(M.$$.fragment,u),H=!1},d(u){u&&h(e),Be(p),Be(M)}}}function et(s){let e,l,t,r,c,f,p,k,M,z,_,T,b,V,B,q,$,W,E,G,C,le,P,X,ee,K,Q,Y,F,se,H,u,v,Z,L,ae,re,x,ne,ce,he,ie=Object.keys(s[1]),I=[];for(let i=0;i<ie.length;i+=1)I[i]=qe(Se(s,ie,i));let me=["All","Any%","NMG","100%","NMG 100%"],U=[];for(let i=0;i<5;i+=1)U[i]=Ue(Pe(s,me,i));let oe=Object.keys(s[0]).sort(s[6]),N=[];for(let i=0;i<oe.length;i+=1)N[i]=Re(Ve(s,oe,i));const Ce=i=>de(N[i],1,1,()=>{N[i]=null});return{c(){e=d("div"),l=d("div"),t=y(),r=d("div"),c=d("div"),f=d("input"),p=y(),k=d("label"),M=D("All"),z=y(),_=d("input"),T=y(),b=d("label"),V=D("None"),B=y();for(let i=0;i<I.length;i+=1)I[i].c();q=y(),$=d("div");for(let i=0;i<5;i+=1)U[i].c();W=y(),E=d("table"),G=d("tr"),C=d("th"),le=D("#"),P=d("th"),X=D("Name"),ee=y(),K=d("th"),Q=D("All"),Y=y(),F=d("th"),se=D("Any%"),H=y(),u=d("th"),v=D("NMG"),Z=y(),L=d("th"),ae=D("100%"),re=y(),x=d("th"),ne=D("NMG 100%"),ce=y();for(let i=0;i<N.length;i+=1)N[i].c();this.h()},l(i){e=m(i,"DIV",{class:!0});var j=g(e);l=m(j,"DIV",{class:!0}),g(l).forEach(h),t=A(j),r=m(j,"DIV",{class:!0});var a=g(r);c=m(a,"DIV",{class:!0});var w=g(c);f=m(w,"INPUT",{class:!0,id:!0}),p=A(w),k=m(w,"LABEL",{for:!0,class:!0});var ke=g(k);M=O(ke,"All"),ke.forEach(h),z=A(w),_=m(w,"INPUT",{class:!0,id:!0}),T=A(w),b=m(w,"LABEL",{for:!0,class:!0});var Ee=g(b);V=O(Ee,"None"),Ee.forEach(h),B=A(w);for(let J=0;J<I.length;J+=1)I[J].l(w);w.forEach(h),q=A(a),$=m(a,"DIV",{class:!0});var Ne=g($);for(let J=0;J<5;J+=1)U[J].l(Ne);Ne.forEach(h),W=A(a),E=m(a,"TABLE",{class:!0});var _e=g(E);G=m(_e,"TR",{class:!0});var S=g(G);C=m(S,"TH",{class:!0});var ye=g(C);le=O(ye,"#"),ye.forEach(h),P=m(S,"TH",{class:!0});var Ae=g(P);X=O(Ae,"Name"),Ae.forEach(h),ee=A(S),K=m(S,"TH",{class:!0});var Ge=g(K);Q=O(Ge,"All"),Ge.forEach(h),Y=A(S),F=m(S,"TH",{class:!0});var Te=g(F);se=O(Te,"Any%"),Te.forEach(h),H=A(S),u=m(S,"TH",{class:!0});var je=g(u);v=O(je,"NMG"),je.forEach(h),Z=A(S),L=m(S,"TH",{class:!0});var we=g(L);ae=O(we,"100%"),we.forEach(h),re=A(S),x=m(S,"TH",{class:!0});var Me=g(x);ne=O(Me,"NMG 100%"),Me.forEach(h),S.forEach(h),ce=A(_e);for(let J=0;J<N.length;J+=1)N[J].l(_e);_e.forEach(h),a.forEach(h),j.forEach(h),this.h()},h(){n(l,"class","background"),n(f,"class","labeled svelte-dopbom"),n(f,"id","switch_all_level"),n(k,"for","switch_all_level"),n(k,"class","svelte-dopbom"),n(_,"class","labeled svelte-dopbom"),n(_,"id","switch_none_level"),n(b,"for","switch_none_level"),n(b,"class","svelte-dopbom"),n(c,"class","checks svelte-dopbom"),n($,"class","selects svelte-dopbom"),n(C,"class","place svelte-dopbom"),n(P,"class","svelte-dopbom"),n(K,"class","svelte-dopbom"),n(F,"class","svelte-dopbom"),n(u,"class","svelte-dopbom"),n(L,"class","svelte-dopbom"),n(x,"class","svelte-dopbom"),n(G,"class","svelte-dopbom"),n(E,"class","svelte-dopbom"),n(r,"class","main svelte-dopbom"),n(e,"class","container svelte-dopbom")},m(i,j){R(i,e,j),o(e,l),o(e,t),o(e,r),o(r,c),o(c,f),o(c,p),o(c,k),o(k,M),o(c,z),o(c,_),o(c,T),o(c,b),o(b,V),o(c,B);for(let a=0;a<I.length;a+=1)I[a]&&I[a].m(c,null);o(r,q),o(r,$);for(let a=0;a<5;a+=1)U[a]&&U[a].m($,null);o(r,W),o(r,E),o(E,G),o(G,C),o(C,le),o(G,P),o(P,X),o(G,ee),o(G,K),o(K,Q),o(G,Y),o(G,F),o(F,se),o(G,H),o(G,u),o(u,v),o(G,Z),o(G,L),o(L,ae),o(G,re),o(G,x),o(x,ne),o(E,ce);for(let a=0;a<N.length;a+=1)N[a]&&N[a].m(E,null);he=!0},p(i,[j]){if(j&42){ie=Object.keys(i[1]);let a;for(a=0;a<ie.length;a+=1){const w=Se(i,ie,a);I[a]?I[a].p(w,j):(I[a]=qe(w),I[a].c(),I[a].m(c,null))}for(;a<I.length;a+=1)I[a].d(1);I.length=ie.length}if(j&8){me=["All","Any%","NMG","100%","NMG 100%"];let a;for(a=0;a<5;a+=1){const w=Pe(i,me,a);U[a]?U[a].p(w,j):(U[a]=Ue(w),U[a].c(),U[a].m($,null))}for(;a<5;a+=1)U[a].d(1)}if(j&21){oe=Object.keys(i[0]).sort(i[6]);let a;for(a=0;a<oe.length;a+=1){const w=Ve(i,oe,a);N[a]?(N[a].p(w,j),fe(N[a],1)):(N[a]=Re(w),N[a].c(),fe(N[a],1),N[a].m(E,null))}for(Ke(),a=oe.length;a<N.length;a+=1)Ce(a);Fe()}},i(i){if(!he){for(let j=0;j<oe.length;j+=1)fe(N[j]);he=!0}},o(i){N=N.filter(Boolean);for(let j=0;j<N.length;j+=1)de(N[j]);he=!1},d(i){i&&h(e),ve(I,i),ve(U,i),ve(N,i)}}}function tt(s,e,l){let t={},r={},c=async()=>{let b=await(await fetch("https://api.komali.dev/ils")).json();l(1,r=b.lb);let V=Object.keys(r);for(let B of V)for(let q of Object.keys(r[B]))for(let $ of Object.keys(r[B][q]))for(let W of r[B][q][$].filter(E=>E.place==1))for(let E of W.runners)t[E]||l(0,t[E]={colors:b.players[E].colors,location:(b.players[E].location||"").split("/")[0],counts:{"Any%":0,"No Major Glitches":0,"100%":0,"No Major Glitches 100%":0,all:0}},t),l(0,t[E].counts[$]++,t),l(0,t[E].counts.all++,t);document.querySelector("#switch_All").checked=!0},f="all";function p(){l(2,f=["all","Any%","No Major Glitches","100%","No Major Glitches 100%"][["All","Any","NMG","100","NMG100"].map(b=>document.querySelector("#switch_"+b).checked).indexOf(!0)])}let k=b=>b+(["st","nd","rd"][(((b<0?-b:b)+90)%100-10)%10-1]||"th"),M=b=>b.replace(" Shrines","").replace("Divine Beast Vah ","").replace("Great Plateau Revisit","Obliterator").replace("Stranded on ","");return Je(c),[t,r,f,p,k,M,(b,V)=>t[V].counts[f]-t[b].counts[f],(b,V)=>t[V].counts[f]-t[b].counts[f],b=>t[b].counts[f]]}class st extends pe{constructor(e){super(),be(this,e,tt,et,ge,{})}}export{st as component};
