import{S as ae,i as oe,s as re,k as m,q as D,l as b,m as g,r as $,h as _,n as u,b as Z,G as s,u as Q,H as te,e as _e,J as ve,a as N,c as G,K as ye,g as Y,f as Te,d as le,L as je,o as Ne,y as de,z as me,A as be,B as ge,v as Ge}from"../chunks/index.1e76eaed.js";function Me(a){let e,t,l;return{c(){e=m("div"),t=D(a[0]),this.h()},l(r){e=b(r,"DIV",{class:!0,style:!0});var o=g(e);t=$(o,a[0]),o.forEach(_),this.h()},h(){u(e,"class","name svelte-1q3ac75"),u(e,"style",l=`background-image: linear-gradient(to right, ${a[1]}, ${a[2]})`)},m(r,o){Z(r,e,o),s(e,t)},p(r,[o]){o&1&&Q(t,r[0]),o&6&&l!==(l=`background-image: linear-gradient(to right, ${r[1]}, ${r[2]})`)&&u(e,"style",l)},i:te,o:te,d(r){r&&_(e)}}}function Ae(a,e,t){let{name:l}=e,{from:r}=e,{to:o}=e;return a.$$set=i=>{"name"in i&&t(0,l=i.name),"from"in i&&t(1,r=i.from),"to"in i&&t(2,o=i.to)},[l,r,o]}class De extends ae{constructor(e){super(),oe(this,e,Ae,Me,re,{name:0,from:1,to:2})}}function pe(a){let e,t,l,r;return{c(){e=m("div"),t=m("img"),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=g(e);t=b(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(_),this.h()},h(){u(t,"class","flag_img svelte-1k25bsj"),ve(t.src,l=`https://flags.komali.dev/svg/${a[0]}.svg`)||u(t,"src",l),u(t,"alt",r=`flag_${a[0]}`),u(e,"class","flag svelte-1k25bsj")},m(o,i){Z(o,e,i),s(e,t)},p(o,i){i&1&&!ve(t.src,l=`https://flags.komali.dev/svg/${o[0]}.svg`)&&u(t,"src",l),i&1&&r!==(r=`flag_${o[0]}`)&&u(t,"alt",r)},d(o){o&&_(e)}}}function $e(a){let e,t=a[0]!=""&&pe(a);return{c(){t&&t.c(),e=_e()},l(l){t&&t.l(l),e=_e()},m(l,r){t&&t.m(l,r),Z(l,e,r)},p(l,[r]){l[0]!=""?t?t.p(l,r):(t=pe(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(l){t&&t.d(l),l&&_(e)}}}function He(a,e,t){let{code:l}=e;return a.$$set=r=>{"code"in r&&t(0,l=r.code)},[l]}class we extends ae{constructor(e){super(),oe(this,e,He,$e,re,{code:0})}}function Ee(a,e,t){const l=a.slice();return l[2]=e[t],l}function ke(a){let e,t,l,r,o,i,M,O=a[0][a[2]].counts.all+"",A,p,v,y=a[0][a[2]].counts["Any%"]+"",V,C,j,E=a[0][a[2]].counts["No Major Glitches"]+"",F,L,R,z=a[0][a[2]].counts["100%"]+"",q,K,S,w=a[0][a[2]].counts["No Major Glitches 100%"]+"",J,P,T;return l=new we({props:{code:a[0][a[2]].location}}),o=new De({props:{name:a[2],from:a[0][a[2]].colors,to:a[0][a[2]].colors[1]}}),{c(){e=m("tr"),t=m("td"),de(l.$$.fragment),r=N(),de(o.$$.fragment),i=N(),M=m("td"),A=D(O),p=N(),v=m("td"),V=D(y),C=N(),j=m("td"),F=D(E),L=N(),R=m("td"),q=D(z),K=N(),S=m("td"),J=D(w),P=N(),this.h()},l(n){e=b(n,"TR",{class:!0});var c=g(e);t=b(c,"TD",{class:!0});var H=g(t);me(l.$$.fragment,H),r=G(H),me(o.$$.fragment,H),H.forEach(_),i=G(c),M=b(c,"TD",{class:!0});var B=g(M);A=$(B,O),B.forEach(_),p=G(c),v=b(c,"TD",{class:!0});var X=g(v);V=$(X,y),X.forEach(_),C=G(c),j=b(c,"TD",{class:!0});var U=g(j);F=$(U,E),U.forEach(_),L=G(c),R=b(c,"TD",{class:!0});var f=g(R);q=$(f,z),f.forEach(_),K=G(c),S=b(c,"TD",{class:!0});var x=g(S);J=$(x,w),x.forEach(_),P=G(c),c.forEach(_),this.h()},h(){u(t,"class","svelte-40xb8b"),u(M,"class","svelte-40xb8b"),u(v,"class","svelte-40xb8b"),u(j,"class","svelte-40xb8b"),u(R,"class","svelte-40xb8b"),u(S,"class","svelte-40xb8b"),u(e,"class","svelte-40xb8b")},m(n,c){Z(n,e,c),s(e,t),be(l,t,null),s(t,r),be(o,t,null),s(e,i),s(e,M),s(M,A),s(e,p),s(e,v),s(v,V),s(e,C),s(e,j),s(j,F),s(e,L),s(e,R),s(R,q),s(e,K),s(e,S),s(S,J),s(e,P),T=!0},p(n,c){const H={};c&3&&(H.code=n[0][n[2]].location),l.$set(H);const B={};c&3&&(B.name=n[2]),c&3&&(B.from=n[0][n[2]].colors),c&3&&(B.to=n[0][n[2]].colors[1]),o.$set(B),(!T||c&3)&&O!==(O=n[0][n[2]].counts.all+"")&&Q(A,O),(!T||c&3)&&y!==(y=n[0][n[2]].counts["Any%"]+"")&&Q(V,y),(!T||c&3)&&E!==(E=n[0][n[2]].counts["No Major Glitches"]+"")&&Q(F,E),(!T||c&3)&&z!==(z=n[0][n[2]].counts["100%"]+"")&&Q(q,z),(!T||c&3)&&w!==(w=n[0][n[2]].counts["No Major Glitches 100%"]+"")&&Q(J,w)},i(n){T||(Y(l.$$.fragment,n),Y(o.$$.fragment,n),T=!0)},o(n){le(l.$$.fragment,n),le(o.$$.fragment,n),T=!1},d(n){n&&_(e),ge(l),ge(o)}}}function Ie(a){let e,t,l,r,o,i,M=(a[1]=="all"?"All":a[1])+"",O,A,p,v,y,V,C,j,E,F,L,R,z,q,K,S,w,J,P,T,n,c,H,B,X,U=Object.keys(a[0]).sort(a[4]),f=[];for(let h=0;h<U.length;h+=1)f[h]=ke(Ee(a,U,h));const x=h=>le(f[h],1,1,()=>{f[h]=null});return{c(){e=m("div"),t=m("div"),l=N(),r=m("div"),o=m("button"),i=D("Current comparison: "),O=D(M),A=N(),p=m("table"),v=m("tr"),y=m("th"),V=D("Name"),C=N(),j=m("th"),E=D("All"),F=N(),L=m("th"),R=D("Any%"),z=N(),q=m("th"),K=D("NMG"),S=N(),w=m("th"),J=D("100%"),P=N(),T=m("th"),n=D("NMG 100%"),c=N();for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=b(h,"DIV",{class:!0});var k=g(e);t=b(k,"DIV",{class:!0}),g(t).forEach(_),l=G(k),r=b(k,"DIV",{class:!0});var d=g(r);o=b(d,"BUTTON",{});var W=g(o);i=$(W,"Current comparison: "),O=$(W,M),W.forEach(_),A=G(d),p=b(d,"TABLE",{class:!0});var ee=g(p);v=b(ee,"TR",{class:!0});var I=g(v);y=b(I,"TH",{class:!0});var ne=g(y);V=$(ne,"Name"),ne.forEach(_),C=G(I),j=b(I,"TH",{class:!0});var ce=g(j);E=$(ce,"All"),ce.forEach(_),F=G(I),L=b(I,"TH",{class:!0});var ie=g(L);R=$(ie,"Any%"),ie.forEach(_),z=G(I),q=b(I,"TH",{class:!0});var fe=g(q);K=$(fe,"NMG"),fe.forEach(_),S=G(I),w=b(I,"TH",{class:!0});var ue=g(w);J=$(ue,"100%"),ue.forEach(_),P=G(I),T=b(I,"TH",{class:!0});var he=g(T);n=$(he,"NMG 100%"),he.forEach(_),I.forEach(_),c=G(ee);for(let se=0;se<f.length;se+=1)f[se].l(ee);ee.forEach(_),d.forEach(_),k.forEach(_),this.h()},h(){u(t,"class","background"),u(y,"class","svelte-40xb8b"),u(j,"class","svelte-40xb8b"),u(L,"class","svelte-40xb8b"),u(q,"class","svelte-40xb8b"),u(w,"class","svelte-40xb8b"),u(T,"class","svelte-40xb8b"),u(v,"class","svelte-40xb8b"),u(p,"class","svelte-40xb8b"),u(r,"class","main svelte-40xb8b"),u(e,"class","container svelte-40xb8b")},m(h,k){Z(h,e,k),s(e,t),s(e,l),s(e,r),s(r,o),s(o,i),s(o,O),s(r,A),s(r,p),s(p,v),s(v,y),s(y,V),s(v,C),s(v,j),s(j,E),s(v,F),s(v,L),s(L,R),s(v,z),s(v,q),s(q,K),s(v,S),s(v,w),s(w,J),s(v,P),s(v,T),s(T,n),s(p,c);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(p,null);H=!0,B||(X=ye(o,"click",a[3]),B=!0)},p(h,[k]){if((!H||k&2)&&M!==(M=(h[1]=="all"?"All":h[1])+"")&&Q(O,M),k&3){U=Object.keys(h[0]).sort(h[4]);let d;for(d=0;d<U.length;d+=1){const W=Ee(h,U,d);f[d]?(f[d].p(W,k),Y(f[d],1)):(f[d]=ke(W),f[d].c(),Y(f[d],1),f[d].m(p,null))}for(Ge(),d=U.length;d<f.length;d+=1)x(d);Te()}},i(h){if(!H){for(let k=0;k<U.length;k+=1)Y(f[k]);H=!0}},o(h){f=f.filter(Boolean);for(let k=0;k<f.length;k+=1)le(f[k]);H=!1},d(h){h&&_(e),je(f,h),B=!1,X()}}}function Oe(a,e,t){let l={},r=async()=>{let A=await(await fetch("https://api.komali.dev/ils")).json(),{lb:p}=A,v=Object.keys(p);for(let y of v)for(let V of Object.keys(p[y]))for(let C of Object.keys(p[y][V]))for(let j of p[y][V][C].filter(E=>E.place==1))for(let E of j.runners)l[E]||t(0,l[E]={colors:A.players[E].colors,location:A.players[E].location.split("/")[0],counts:{"Any%":0,"No Major Glitches":0,"100%":0,"No Major Glitches 100%":0,all:0}},l),t(0,l[E].counts[C]++,l),t(0,l[E].counts.all++,l)},o=0,i="all";function M(){t(1,i=["Any%","No Major Glitches","100%","No Major Glitches 100%","all"][o]),t(2,o=(o+1)%5)}return Ne(r),[l,i,o,M,(A,p)=>l[p].counts[i]-l[A].counts[i]]}class qe extends ae{constructor(e){super(),oe(this,e,Oe,Ie,re,{})}}export{qe as component};
